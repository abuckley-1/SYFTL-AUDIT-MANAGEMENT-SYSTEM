<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Audit Questionnaire | Sentinel AMS</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <aside class="sidebar">
            <div class="sidebar-brand"><h2>Sentinel</h2></div>
            <nav class="nav-menu">
                <a href="index.html" class="nav-link">ðŸ“Š Dashboard</a>
                <a href="audit-plan.html" class="nav-link">ðŸ“… Audit Schedules</a>
            </nav>
        </aside>

        <main class="main-content">
            <div class="card" style="background:white; padding:40px; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.05);">
                <h1 id="phaseTitle">Questionnaire</h1>
                <p id="phaseDesc" style="color:var(--st-orange); font-weight:bold;"></p>
                <hr style="margin:20px 0; border:0; border-top:1px solid #eee;">
                
                <form id="auditEntryForm">
                    <div id="dynamicQuestions">
                        </div>

                    <div style="margin-top:40px; display:flex; gap:15px;">
                        <button type="button" class="btn-primary" onclick="alert('Data Saved Successfully')">ðŸ’¾ Save Progress</button>
                        <button type="button" class="btn-secondary" onclick="window.location.href='audit-plan.html'">Cancel</button>
                    </div>
                </form>
            </div>
        </main>
    </div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const mode = urlParams.get('mode');
        const qContainer = document.getElementById('dynamicQuestions');

        if (mode === 'initial') {
            document.getElementById('phaseTitle').innerText = "Initial Assessment Questionnaire";
            document.getElementById('phaseDesc').innerText = "Phase 1: Initial Questionnaire (Weeks 1-2)";
            qContainer.innerHTML = `
                <label style="display:block; margin-bottom:10px;"><strong>Q1: Are all hazardous substances recorded on the local inventory?</strong></label>
                <select style="width:100%; padding:10px; margin-bottom:20px;"><option>Yes</option><option>No</option><option>Partial</option></select>
                
                <label style="display:block; margin-bottom:10px;"><strong>Auditee Initial Comments:</strong></label>
                <textarea style="width:100%; height:120px; padding:10px; border:1px solid #ddd; border-radius:6px;"></textarea>
            `;
        } else {
            document.getElementById('phaseTitle').innerText = "Evidence Gathering Phase";
            document.getElementById('phaseDesc').innerText = "Phase 2: Further Evidence Gathering (Weeks 3-4)";
            qContainer.innerHTML = `
                <label style="display:block; margin-bottom:10px;"><strong>Evidence Upload:</strong> Please attach SYPOL reports or safety data sheets.</label>
                <input type="file" multiple style="margin-bottom:20px;">
                
                <label style="display:block; margin-bottom:10px;"><strong>Evidence Justification Notes:</strong></label>
                <textarea style="width:100%; height:120px; padding:10px; border:1px solid #ddd; border-radius:6px;"></textarea>
            `;
        }
    </script>
</body>
</html>
